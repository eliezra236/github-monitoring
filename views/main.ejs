<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GitHub Pull Requests</title>
    <!--    Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--    Bootstrap Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <!--    Bootstrap Table-->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.19.0/dist/bootstrap-table.min.css">

    <!--    Highlighter-->
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-light.min.css">

</head>

<body>
<div class="container">
    <h1>Pull Requests History</h1>
    <h5><a target="_blank" href="https://github.com/<%=repoName%>"><%=repoName%></a></h5>

    <table id="table" data-toggle="table" data-search="true">
        <thead>
        <tr>
            <th data-sortable="true">Request ID</th>
            <th data-sortable="true">Title</th>
            <th data-sortable="true">Action</th>
            <th data-sortable="true" >User</th>
            <th data-searchable="false">Full Details</th>
        </tr>
        </thead>
        <tbody>
        <% for (let request of pullRequests) { %>
            <tr>
                <td><%=request.request.pull_request.id%></td>
                <td><%=request.request.pull_request.title%></td>
                <td><%=request.request.action%></td>
                <td><%=request.request.pull_request.user.login%></td>
                <td><%- include('fullDetailsModal', {id: request._id, request: request.request, image: request.screenshotBuffer}); %></td>
            </tr>
        <% } %>
        </tbody>
    </table>
</div>


<!--Bootstrap JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<!--Highlighter-->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<!--Bootstrap Table-->
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.19.0/dist/bootstrap-table.min.js"></script>

<script src="js/copyText.js"></script>
</body>
</html>